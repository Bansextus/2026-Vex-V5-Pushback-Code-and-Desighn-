<Window x:Class="Tahera.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tahera" Height="760" Width="1180" WindowStartupLocation="CenterScreen" Background="{StaticResource BgBrush}">
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="250"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    <Border Grid.Column="0" Background="#14263A" Padding="12">
      <StackPanel>
        <TextBlock Text="Tahera" Foreground="{StaticResource TextBrush}" FontSize="24" FontWeight="Bold" Margin="8,8,8,18"/>

        <Button Content="Home" Tag="Home" Click="SectionButton_Click" Margin="0,0,0,8"/>
        <Button Content="Build & Upload" Tag="Build" Click="SectionButton_Click" Margin="0,0,0,8"/>
        <Button Content="Port Map" Tag="Port" Click="SectionButton_Click" Margin="0,0,0,8"/>
        <Button Content="SD Card" Tag="Sd" Click="SectionButton_Click" Margin="0,0,0,8"/>
        <Button Content="Field Replay" Tag="Field" Click="SectionButton_Click" Margin="0,0,0,8"/>
        <Button Content="Repository Settings" Tag="Git" Click="SectionButton_Click" Margin="0,0,0,8"/>
      </StackPanel>
    </Border>

    <Grid Grid.Column="1" Margin="16">
      <Grid x:Name="HomePanel">
        <StackPanel>
          <TextBlock Text="Tahera Control Center" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <StackPanel>
              <TextBlock Text="Repository Path" Foreground="{StaticResource SubBrush}"/>
              <TextBox x:Name="RepoPathTextBox" Margin="0,8,0,0"/>
            </StackPanel>
          </Border>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <StackPanel>
              <TextBlock Text="Output" Foreground="{StaticResource SubBrush}"/>
              <TextBox x:Name="OutputTextBox" Margin="0,8,0,0" Height="380" AcceptsReturn="True" IsReadOnly="True" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"/>
            </StackPanel>
          </Border>
        </StackPanel>
      </Grid>

      <Grid x:Name="BuildPanel" Visibility="Collapsed">
        <StackPanel>
          <TextBlock Text="Build & Upload" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <StackPanel>
              <TextBlock Text="Project" Foreground="{StaticResource SubBrush}"/>
              <ComboBox x:Name="ProjectComboBox" Margin="0,8,0,0"/>
              <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                <Button Content="Build" Click="Build_Click" Margin="0,0,8,0"/>
                <Button Content="Upload" Click="Upload_Click" Margin="0,0,8,0"/>
                <Button Content="Build + Upload" Click="BuildUpload_Click"/>
              </StackPanel>
            </StackPanel>
          </Border>
        </StackPanel>
      </Grid>

      <Grid x:Name="PortPanel" Visibility="Collapsed">
        <StackPanel>
          <TextBlock Text="Port Map" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <TextBlock Text="Port map editor is available in this rebuild. Existing values are preserved in source files and can be edited in-app next iteration." Foreground="{StaticResource SubBrush}" TextWrapping="Wrap"/>
          </Border>
        </StackPanel>
      </Grid>

      <Grid x:Name="SdPanel" Visibility="Collapsed">
        <StackPanel>
          <TextBlock Text="SD Card" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <TextBlock Text="SD tools can be extended here. Current rebuild focuses on repository security gate and workflow continuity." Foreground="{StaticResource SubBrush}" TextWrapping="Wrap"/>
          </Border>
        </StackPanel>
      </Grid>

      <Grid x:Name="FieldPanel" Visibility="Collapsed">
        <StackPanel>
          <TextBlock Text="Field Replay" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
          <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
            <TextBlock Text="Replay panel placeholder in rebuild. Parsing and drawing can be restored on top of this frame." Foreground="{StaticResource SubBrush}" TextWrapping="Wrap"/>
          </Border>
        </StackPanel>
      </Grid>

      <Grid x:Name="GitPanel" Visibility="Collapsed">
        <Grid>
          <StackPanel x:Name="GitLockedPanel">
            <TextBlock Text="Repository Settings" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
            <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
              <StackPanel>
                <TextBlock Text="Locked. Enter password to continue." Foreground="{StaticResource SubBrush}"/>
                <PasswordBox x:Name="RepoSettingsPasswordBox" Margin="0,10,0,0"/>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                  <Button Content="Unlock" Click="UnlockRepoSettings_Click"/>
                  <TextBlock x:Name="AuthErrorText" Foreground="#FF6E6E" Margin="12,4,0,0"/>
                </StackPanel>
              </StackPanel>
            </Border>
          </StackPanel>

          <StackPanel x:Name="GitUnlockedPanel" Visibility="Collapsed">
            <TextBlock Text="Repository Settings" Foreground="{StaticResource TextBrush}" FontSize="28" FontWeight="Bold"/>
            <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
              <StackPanel>
                <TextBlock Text="Commit & Push" Foreground="{StaticResource SubBrush}"/>
                <TextBox x:Name="CommitMessageTextBox" Margin="0,8,0,0"/>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                  <Button Content="Commit" Click="GitCommit_Click" Margin="0,0,8,0"/>
                  <Button Content="Push" Click="GitPush_Click"/>
                </StackPanel>
              </StackPanel>
            </Border>

            <Border Background="{StaticResource CardBrush}" Padding="14" CornerRadius="10" Margin="0,14,0,0">
              <StackPanel>
                <TextBlock Text="Tag / Release" Foreground="{StaticResource SubBrush}"/>
                <TextBox x:Name="TagTextBox" Margin="0,8,0,0"/>
                <TextBox x:Name="TagMessageTextBox" Margin="0,8,0,0"/>
                <TextBox x:Name="ReleaseTitleTextBox" Margin="0,8,0,0"/>
                <TextBox x:Name="ReleaseNotesTextBox" Margin="0,8,0,0" Height="120" AcceptsReturn="True" TextWrapping="Wrap"/>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                  <Button Content="Tag + Push" Click="GitTagPush_Click" Margin="0,0,8,0"/>
                  <Button Content="Create Release" Click="GitRelease_Click" Margin="0,0,8,0"/>
                  <Button Content="Lock" Click="LockRepoSettings_Click"/>
                </StackPanel>
              </StackPanel>
            </Border>
          </StackPanel>
        </Grid>
      </Grid>
    </Grid>
  </Grid>
</Window>
